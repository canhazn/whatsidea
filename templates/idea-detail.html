{% extends 'base.html' %}
{%load static %}
{% load crispy_forms_tags %}

<!-- Extra head here -->
{% block extrahead %}
<title>whatsIdea</title>
<meta name="description" content="">
{% endblock extrahead %}



<!-- Content here -->
{% block content %}
<!-- <style>
    .border-left-primary {
        border-left: .25rem solid #4e73df !important;
        border-radius: .35rem;
    }

    .border-left-success {
        border-left: .25rem solid #1cc88a !important;
        border-radius: .35rem;
    }

    .border-left-secondary {
        border-left: .25rem solid #6c757d !important;
        border-radius: .35rem;
    }

    .border-left-dark {
        border-left: .25rem solid #343a40 !important;
        border-radius: .35rem;
    }
</style> -->
<main>
    <nav class="navbar px-0 border-bottom">
        <h1 class="h3">{{ idea.title }}</h1>

        <div class="dropdown">
            <button type="button" class="btn" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-three-dots-vertical" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z">
                    </path>
                </svg>
            </button>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">


                {% for owner in idea.user.all %}
                    {% if user == owner  %}
                    <a class="dropdown-item" href="{% url 'idea-update-page' idea.slug %}">Edit</a>
                    <a class="dropdown-item" href="{% url 'idea-delete-page' idea.slug %}">Delete</a>
                    {% endif %}
                {% endfor %}

                
                <a class="dropdown-item" href="">Report</a>
            </div>
        </div>

    </nav>

    <div class="p-3 my-3 border border-left-secondary">
        <p>{{ idea.problem }}</p>
    </div>
    <div class="p-3 my-3 border border-left-secondary">
        <p>{{ idea.solution }}</p>
    </div>



    <div class="d-flex justify-content-between align-items-center">
        <div class="vote">
            <a class="navbar-brand" href="">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-capslock-fill" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M7.27 1.047a1 1 0 0 1 1.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H11.5v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-1H1.654C.78 9.5.326 8.455.924 7.816L7.27 1.047zM4.5 13.5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-1z" />
                </svg>
            </a>
            <span>{{ idea.vote_set.all.count }}</span>
        </div>
        <a href="{% url 'idea-detail-page' idea.slug %}">
            @{{ idea.slug }}
        </a>
    </div>

    <div class="contribute-area">
        <p class="border-bottom">Contribute</p>
        
    </div>


    <div class="contribute-area">
        {% for contribute in contributes %}
        <p class="border-bottom mt-3">
            <a href="">@{{ contribute.user }}</a>:
            {{ contribute }}
        </p>

        {% for sub in contribute.children.all %}
        <p class="border-bottom ml-3"><a href="">@{{ sub.user }}</a>: {{ sub }}</p>
        {% endfor %}
        {% endfor %}
    </div>





    {% for post in idea.post_set.all %}
    <div class="border border-left-dark p-3 my-3">
        <p class="border-bottom">
            {{ post.content }}
        </p>
    </div>

    {% endfor %}

</main>

{% endblock content %}